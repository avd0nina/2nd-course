# Блок задач на “удовлетворительно”

## Структура адресного пространства

1. Напишите программу, которая создает переменные и выводит их адреса:

   + локальные в функции;
   + статические в функции;
   + константы в функции;
   + глобальные инициализированные;
   + глобальные неинициализированные;
   + глобальные константы.

2. Сопоставьте адреса переменных с областями адресного пространства из
соответствующего `/proc/<pid>/maps`. Объясните увиденное.
1) Локально у себя на компьютере создаем файл
2) Компилируем
```bash
gcc main1.c -o main1
```
3) Запускаем
```bash
./main1
```
5) Пока программа работает (блогадря sleep(60) она "виснет" 60 секунд) открываем новое окно терминала в нем запускаем
```bash
/proc/<pid>/maps
```
НА MacOS ДРУГАЯ КОМАНДА:
```bash
vmmap <pid>
```
где вместо <pid> указываем номер процесса, с которым запустился наш main1.c
7) Сравниваем адреса памяти, по которым лежат наши переменные (первое окно терминала) с регионами (второе окно терминала), сравниваем сегменты (текст/дата/др.)

4. Используя утилиту `nm` (или `readelf`) определите в каких секциях находятся выделенные переменные переменные.
5. Напишите функцию, которая создает и инициализирует локальную переменную и возвращает ее адрес. Прокомментируйте результат и дайте оценку происходящему.
6. Напишите функцию, которая:

   + выделяет на куче буфер (например, размером 100 байт);
   + записывает в него какую-либо фразу (например, `hello world`);
   + выводит содержимое буфера;
   + освобождает выделенную память;
   + снова выводит содержимое буфера;
   + выделяет еще один буфер;
   + записывает в них какую-либо фразу (например, `hello world`);
   + выводит содержимое буфера;
   + перемещает указатель на середину буфера;
   + освобождает память по этому указателю.
   + выводит содержимое буфера;

7. Прокомментируйте работу предыдущего пункта.
8. Заведите переменную окружения.
9. Добавьте в вашу программу код, который:

   + распечатывает ее значение;
   + изменяет его значение;
   + повторно распечатывает ее значение.

10. Запустите вашу программу и убедитесь что переменная окружения
имеет требуемое значение.
11. Выведите значение переменной окружения после того, как ваша
программа завершилась.
12. Объясните произошедшее.
