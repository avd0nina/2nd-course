Дан квадрат. Если мы разбиваем его сторону на n частей, то точек деления будет n+1 (сама точка, начало и конец стороны квадрата). 
а) Чтобы построить прямоугольник нам понадобятся 2 горизонтальных и 2 вертикальных линии. Так как через каждую точку деления проведены прямые, то выберем 2 из n+1 вертикальных и 2 из n+1 горизонтальных линий. Таким образом мы получим прямоугольник. Теперь посчитаем сколькими способами мы можем выбрать эти прямые, используя формулу сочетания: 
$C_{n+1}^{2} * C_{n+1}^{2}$
б) Квадраты могут быть разных размеров - от 1х1 до nxn. Для того, чтобы их построить нам нужно выбрать горизонтальные и вертикальные линии так, чтобы в пересечении они образовывали квадрат с одинаковыми длинами сторон. Рассмотрим несколько случаев. 
1. Квадрат 1х1
Это квадрат между каждой парой соседних линий. Таких квадратов мы можем построить nxn.
2. Квадрат 2х2
Таких квадратов мы можем построить (n-1)x(n-1).
3. Квадрат 3х3
Таких квадратов мы можем построить (n-2)x(n-2).
Таким образом, суммируем кол-во квадратов всех возможных размеров: 
$n^2$ + $(n-1)^2$ + $(n-2)^2$ + ... + $1^2$
