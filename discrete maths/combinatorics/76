Так как пар рыцарей n, то всего рыцарей 2n. 
Пусть A - множество всех возможных рассадок. Мощность этого множества - |A| = (2n)!
Пусть $A_i$ - множество всех рассадок где i-я пара рыцарей сидит рядом. Объединим эту пару в один блок. Тогда нам останется рассмотреть 2n - 1 рыцарей, которых можно рассадить (2n -1)! способами. Но так как внутри пары рыцари могут поменяться местами, то количество способов возрастет до $2 * (2n - 1)!$. 
Если 2 пары рыцарей сидят рядом ($A_i \cap A_j$), то количество способов рассадки равно $2^2 * (2n - 2)!$.
Таким образом, если k пар рыцарей сидят рядом, то количество способов рассудки будет равно $2^k * (2n - k)!$.
Так же нужно учесть, что количество способов выбрать k пар из n равно $C_n^k$.
Теперь воспользуемся методом включений-исключений:
$A \setminus |A_1 \cup A_2 \cup ... A_n|$ = $(2n)! - \sum_{k = 0}^n (-1)^k C_n^k 2^k * (2n - k)!$
