Первым шагом выберем какие именно ящики будут пустыми. Это можно сделать $C_n^m$ способами (или $\binom{n}{m}$). После этого у нас остается n - m ящиков, по которым нужно распределить r предметов. 
Пусть А - множество всех способов разместить r предметов по n - m ящикам. Количество таких способов - $(n - m)^r$. 
$S_0 = (n - m)^r$.
Пусть $A_i$ - множество способов разместить r предметов так, чтобы i-й ящик остался пустым. Количество таких способов - $(n - m - 1)^r$, так как один ящик исключается.
$S_1 = (n - m - 1)^r * C_{n - m}^1$
Аналогично, $S_2 = (n - m - 2)^r * C_{n - m}^2$
...
$S_k = (n - m - k)^r * C_{n - m}^k$
Для того, чтобы найти количество способов разместить r предметов так, чтобы ни один из n - m ящиков не остался пустым, воспользуемся принципом включений-исключений. Итоговая формула будет выглядеть следующим образом:
$\sum_{k = 0}^{n - m} (-1)^k *  C_{n - m}^k * (n - m - k)^r$
