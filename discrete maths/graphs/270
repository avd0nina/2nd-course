Для помеченного дерева на n вершинах существует код Прюфера длины n - 2. У нас 21 вершина, значит, код Прюфера будет длины 19. Для вершины степени k в дереве соответствующее число должно появиться k − 1 раз в коде Прюфера. Значит, вершина степени 10 должна появиться 9 раз, а вершина степени 6 должна появиться 5 раз.

Теперь будем считать количество помеченных деревьев.
Сначала выберем 2 вершины (одну - степени 10, вторую - степени 6) из 21 вершины: $[21]_2$
Мы уже знаем, что вершина степени 10 должна появиться 9 раз, а вершина степени 6 должна появиться 5 раз. Значит, для кода Прюфера из 19 чисел мы выибираем 9 позиций, на которых будет стоять "10" - $C_{19}^9$. Теперь у нас осталось 19 - 9 = 10 позиций. Из них мы должны выбрать 5 позиций, на которых будет стоять "6" - $C_{10}^5$. Теперь у нас осталось 10 - 5 = 5 позиций, на которых могут стоять любые из 19 вершин, причем, порядок нам важен. То есть, количество способов занять оставшиеся 5 позиций - $19^5$. Но нам нужно учесть, чтобы вершина степени "10" и вершина степени "6" встречались только по одному разу. Значит из общего количества нам нужно вычесть 19 вариантов, при которых одна из оставшихся 19 вершин занимает все 5 позиций (по одному случаю для каждой из 19 вершин). То есть $19^5 - 19$
Итого $[21]_2 * C_{19}^9 * C_{10}^5 * (19^5 - 19)$
