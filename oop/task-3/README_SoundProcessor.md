
# README: SoundProcessor

---

## Описание программы

**SoundProcessor** — это программа для работы с аудиофайлами формата WAV. Она позволяет применять различные преобразования к аудиофайлам на основе конфигурационного файла и сохраняет результат в выходной файл. Программа поддерживает только файлы WAV с такими характеристиками:

- **Аудио-формат**: PCM (без кодирования)
- **Каналы**: моно (1 канал)
- **Разрядность**: 16 бит (signed 16 bit, little-endian)
- **Частота дискретизации**: 44100 Гц

---

## Как запустить программу

Используйте следующую команду для запуска программы:

```bash
./SoundProcessor -c config.txt output1.wav input1.wav input2.wav
```

- **`-c config.txt`** — путь к конфигурационному файлу, где описаны преобразования.
- **`output1.wav`** — имя выходного файла, в который сохраняется результат.
- **`input1.wav`** — основной входной файл, к которому применяются преобразования.
- **`input2.wav`** — дополнительный файл (необязательный), используемый в некоторых командах.

---

## Формат конфигурационного файла

Конфигурационный файл задаёт команды для преобразований. Каждая строка — это одна команда. Комментарии начинаются с символа `#`. Команды выполняются в порядке их указания в файле.

---

## Описание команд

### 1. **mute** — заглушить фрагмент файла
Заменяет указанный фрагмент файла на тишину.

**Синтаксис:**
```txt
mute <start_time> <end_time>
```

- **`<start_time>`** — начало фрагмента (в секундах).
- **`<end_time>`** — конец фрагмента (в секундах).

**Пример:**
```txt
# Заглушить первые 10 секунд
mute 0 10
```

---

### 2. **mix** — смешать файлы
Смешивает основной файл с дополнительным.

**Синтаксис:**
```txt
mix <additional_file> <start_time_main> <start_time_additional> <end_time_additional>
```

- **`<additional_file>`** — ссылка на дополнительный файл (например, `$2` для второго входного файла).
- **`<start_time_main>`** — место вставки в основном файле (в секундах).
- **`<start_time_additional>`** — начало фрагмента в дополнительном файле (в секундах).
- **`<end_time_additional>`** — конец фрагмента в дополнительном файле (в секундах).

**Пример:**
```txt
# Смешать 10 секунд из input2.wav, начиная с 5-й секунды
mix $2 10 5 15
```

---

### 3. **cut** — удалить фрагмент файла
Удаляет указанный фрагмент из файла.

**Синтаксис:**
```txt
cut <start_time> <end_time>
```

- **`<start_time>`** — начало фрагмента (в секундах).
- **`<end_time>`** — конец фрагмента (в секундах).

**Пример:**
```txt
# Удалить 20 секунд из файла (с 30-й по 50-ю секунду)
cut 30 50
```

---

### 4. **volume** — изменить громкость
Изменяет громкость в указанном фрагменте файла.

**Синтаксис:**
```txt
volume <coefficient> <start_time> <end_time>
```

- **`<coefficient>`** — коэффициент изменения громкости (например, `0.5` для уменьшения в 2 раза).
- **`<start_time>`** — начало фрагмента (в секундах).
- **`<end_time>`** — конец фрагмента (в секундах).

**Пример:**
```txt
# Увеличить громкость в 2 раза для первых 10 секунд
volume 2.0 0 10
```

---

### 5. **insert** — вставить фрагмент из другого файла
Вставляет фрагмент из дополнительного файла в определённое место основного.

**Синтаксис:**
```txt
insert <additional_file> <place_in_main_file> <start_time_additional> <end_time_additional>
```

- **`<additional_file>`** — ссылка на дополнительный файл (например, `$2`).
- **`<place_in_main_file>`** — место вставки в основном файле (в секундах).
- **`<start_time_additional>`** — начало фрагмента в дополнительном файле (в секундах).
- **`<end_time_additional>`** — конец фрагмента в дополнительном файле (в секундах).

**Пример:**
```txt
# Вставить первые 5 секунд из input2.wav в начало основного файла
insert $2 0 0 5
```

---

### 6. **front** — добавить фрагмент в конец файла
Добавляет фрагмент дополнительного файла в конец основного.

**Синтаксис:**
```txt
front <additional_file> <start_time_additional> <end_time_additional>
```

- **`<additional_file>`** — ссылка на дополнительный файл (например, `$2`).
- **`<start_time_additional>`** — начало фрагмента в дополнительном файле (в секундах).
- **`<end_time_additional>`** — конец фрагмента в дополнительном файле (в секундах).

**Пример:**
```txt
# Добавить последние 10 секунд из input2.wav в конец основного файла
front $2 50 60
```

---

### 7. **back** — добавить фрагмент в начало файла
Добавляет фрагмент дополнительного файла в начало основного.

**Синтаксис:**
```txt
back <additional_file> <start_time_additional> <end_time_additional>
```

- **`<additional_file>`** — ссылка на дополнительный файл (например, `$2`).
- **`<start_time_additional>`** — начало фрагмента в дополнительном файле (в секундах).
- **`<end_time_additional>`** — конец фрагмента в дополнительном файле (в секундах).

**Пример:**
```txt
# Добавить первые 5 секунд из input2.wav в начало основного файла
back $2 0 5
```

---

## Как это работает

1. **Читается конфигурационный файл:** 
   Программа считывает команды из `config.txt`.

2. **Преобразования выполняются последовательно:**
   Каждая команда применяется к выходному файлу предыдущей операции.

3. **Результат сохраняется:**
   Последний результат сохраняется в файл `output1.wav`.

4. **Пример работы:** 
   - Если в конфиге написано:
     ```txt
     mute 0 10
     mix $2 10 5 15
     ```
     Результат:
     - Первые 10 секунд файла `input1.wav` — тишина.
     - На 10-й секунде накладывается 10 секунд из `input2.wav`, начиная с 5-й секунды.

---

Если вы хотите проверить результат, откройте выходной файл (`output1.wav`) в аудиоплеере или редакторе (например, Audacity).
